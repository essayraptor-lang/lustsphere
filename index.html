<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>LustSphere - Video Call Platform</title>
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        min-height: 100vh;
        padding: 20px;
      }

      .container {
        max-width: 1400px;
        margin: 0 auto;
      }

      header {
        background: rgba(255, 255, 255, 0.95);
        padding: 20px 30px;
        border-radius: 15px;
        margin-bottom: 30px;
        box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
        display: flex;
        justify-content: space-between;
        align-items: center;
      }

      .logo {
        font-size: 28px;
        font-weight: bold;
        background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
      }

      .token-balance {
        display: flex;
        align-items: center;
        gap: 15px;
      }

      .balance-display {
        background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
        color: white;
        padding: 10px 20px;
        border-radius: 25px;
        font-weight: bold;
        font-size: 16px;
      }

      .buy-tokens-btn {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: white;
        border: none;
        padding: 10px 25px;
        border-radius: 25px;
        cursor: pointer;
        font-size: 16px;
        font-weight: 600;
        transition: transform 0.2s;
      }

      .buy-tokens-btn:hover {
        transform: scale(1.05);
      }

      .pricing-section {
        background: rgba(255, 255, 255, 0.95);
        padding: 25px;
        border-radius: 15px;
        margin-bottom: 30px;
        box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
      }

      .pricing-section h2 {
        color: #764ba2;
        margin-bottom: 20px;
        text-align: center;
      }

      .pricing-tiers {
        display: flex;
        gap: 15px;
        justify-content: center;
        flex-wrap: wrap;
      }

      .pricing-tier {
        background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
        color: white;
        padding: 20px;
        border-radius: 12px;
        text-align: center;
        min-width: 180px;
        cursor: pointer;
        transition: transform 0.2s;
      }

      .pricing-tier:hover {
        transform: translateY(-5px);
      }

      .tier-tokens {
        font-size: 32px;
        font-weight: bold;
        margin-bottom: 10px;
      }

      .tier-price {
        font-size: 24px;
        margin-bottom: 5px;
      }

      .tier-rate {
        font-size: 14px;
        opacity: 0.9;
      }

      .tier-savings {
        background: rgba(255, 255, 255, 0.2);
        padding: 5px 10px;
        border-radius: 15px;
        margin-top: 10px;
        font-size: 12px;
        font-weight: bold;
      }

      .grid-container {
        display: grid;
        grid-template-columns: repeat(4, 1fr);
        grid-template-rows: repeat(5, 1fr);
        gap: 20px;
        margin-bottom: 30px;
      }

      .profile-card {
        background: rgba(255, 255, 255, 0.95);
        border-radius: 15px;
        padding: 20px;
        box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
        transition: transform 0.3s, box-shadow 0.3s;
      }

      .profile-card:hover {
        transform: translateY(-5px);
        box-shadow: 0 12px 40px rgba(0, 0, 0, 0.2);
      }

      .profile-card.soulmate {
        border: 3px solid #f5576c;
        background: linear-gradient(
          135deg,
          rgba(240, 147, 251, 0.1) 0%,
          rgba(245, 87, 108, 0.1) 100%
        );
      }

      .profile-header {
        display: flex;
        align-items: center;
        gap: 15px;
        margin-bottom: 15px;
      }

      .profile-avatar {
        width: 60px;
        height: 60px;
        border-radius: 50%;
        background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
        display: flex;
        align-items: center;
        justify-content: center;
        color: white;
        font-size: 24px;
        font-weight: bold;
      }

      .profile-name {
        font-size: 18px;
        font-weight: bold;
        color: #333;
      }

      .profile-status {
        font-size: 12px;
        color: #4caf50;
        display: flex;
        align-items: center;
        gap: 5px;
      }

      .status-dot {
        width: 8px;
        height: 8px;
        background: #4caf50;
        border-radius: 50%;
        animation: pulse 2s infinite;
      }

      @keyframes pulse {
        0%,
        100% {
          opacity: 1;
        }
        50% {
          opacity: 0.5;
        }
      }

      .profile-info {
        margin-bottom: 15px;
      }

      .info-row {
        display: flex;
        justify-content: space-between;
        margin-bottom: 8px;
        font-size: 14px;
      }

      .info-label {
        color: #666;
        font-weight: 500;
      }

      .info-value {
        color: #333;
        font-weight: 600;
      }

      .profile-tags {
        display: flex;
        flex-wrap: wrap;
        gap: 5px;
        margin-bottom: 15px;
      }

      .tag {
        background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
        color: white;
        padding: 4px 10px;
        border-radius: 12px;
        font-size: 11px;
      }

      .profile-actions {
        display: flex;
        gap: 10px;
      }

      .action-btn {
        flex: 1;
        padding: 10px;
        border: none;
        border-radius: 8px;
        font-size: 14px;
        font-weight: 600;
        cursor: pointer;
        transition: transform 0.2s;
      }

      .action-btn:hover {
        transform: scale(1.05);
      }

      .call-btn {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: white;
      }

      .date-btn {
        background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
        color: white;
      }

      .soulmate-btn {
        background: linear-gradient(135deg, #ffd89b 0%, #19547b 100%);
        color: white;
        grid-column: 1 / -1;
      }

      .pagination {
        display: flex;
        justify-content: center;
        gap: 10px;
        margin-top: 30px;
      }

      .page-btn {
        background: rgba(255, 255, 255, 0.95);
        border: 2px solid transparent;
        padding: 10px 15px;
        border-radius: 8px;
        cursor: pointer;
        font-size: 16px;
        font-weight: 600;
        color: #764ba2;
        transition: all 0.2s;
      }

      .page-btn:hover {
        background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
        color: white;
      }

      .page-btn.active {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: white;
      }

      .modal {
        display: none;
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: rgba(0, 0, 0, 0.7);
        z-index: 1000;
        justify-content: center;
        align-items: center;
      }

      .modal.active {
        display: flex;
      }

      .modal-content {
        background: white;
        padding: 30px;
        border-radius: 15px;
        max-width: 500px;
        width: 90%;
      }

      .modal-header {
        font-size: 24px;
        font-weight: bold;
        margin-bottom: 20px;
        color: #764ba2;
      }

      .close-modal {
        float: right;
        font-size: 28px;
        cursor: pointer;
        color: #666;
      }

      @media (max-width: 1200px) {
        .grid-container {
          grid-template-columns: repeat(3, 1fr);
        }
      }

      @media (max-width: 768px) {
        .grid-container {
          grid-template-columns: repeat(2, 1fr);
        }
      }

      @media (max-width: 480px) {
        .grid-container {
          grid-template-columns: 1fr;
        }
      }
    </style>
  </head>
  <body>
    <div class="container">
      <header>
        <div class="logo">üíú LustSphere</div>
        <div class="token-balance">
          <div class="balance-display">
            <span id="tokenBalance">50</span> Tokens
          </div>
          <button class="buy-tokens-btn" onclick="openPricingModal()">
            Buy Tokens
          </button>
        </div>
      </header>

      <div class="pricing-section">
        <h2>üíé Token Packages - Better Value with More!</h2>
        <div class="pricing-tiers">
          <div class="pricing-tier" onclick="selectPackage(10, 230)">
            <div class="tier-tokens">10</div>
            <div class="tier-price">KSh 230</div>
            <div class="tier-rate">KSh 23/token</div>
          </div>
          <div class="pricing-tier" onclick="selectPackage(25, 550)">
            <div class="tier-tokens">25</div>
            <div class="tier-price">KSh 550</div>
            <div class="tier-rate">KSh 22/token</div>
            <div class="tier-savings">Save 4%</div>
          </div>
          <div class="pricing-tier" onclick="selectPackage(50, 1050)">
            <div class="tier-tokens">50</div>
            <div class="tier-price">KSh 1,050</div>
            <div class="tier-rate">KSh 21/token</div>
            <div class="tier-savings">Save 9%</div>
          </div>
          <div class="pricing-tier" onclick="selectPackage(100, 2000)">
            <div class="tier-tokens">100</div>
            <div class="tier-price">KSh 2,000</div>
            <div class="tier-rate">KSh 20/token</div>
            <div class="tier-savings">Save 13%</div>
          </div>
          <div class="pricing-tier" onclick="selectPackage(200, 3800)">
            <div class="tier-tokens">200</div>
            <div class="tier-price">KSh 3,800</div>
            <div class="tier-rate">KSh 19/token</div>
            <div class="tier-savings">Save 17%</div>
          </div>
        </div>
      </div>

      <div class="grid-container" id="profileGrid">
        <!-- Profiles will be generated here -->
      </div>

      <div class="pagination" id="pagination">
        <!-- Page numbers will be generated here -->
      </div>
    </div>

    <div class="modal" id="pricingModal">
      <div class="modal-content">
        <span class="close-modal" onclick="closePricingModal()">&times;</span>
        <div class="modal-header">Purchase Tokens</div>
        <p>
          Select a package above and complete payment via M-Pesa to add tokens
          to your account.
        </p>
        <p style="margin-top: 15px; color: #666">
          1 Token = 1 Minute of video call time
        </p>
      </div>
    </div>

    <script>
      // Sample data - in production this will come from backend
      const profiles = [
        {
          name: "Sarah M.",
          bodyShape: "Athletic",
          personality: "Outgoing",
          interests: "Travel, Music",
          match: false,
        },
        {
          name: "Emily K.",
          bodyShape: "Curvy",
          personality: "Creative",
          interests: "Art, Reading",
          match: true,
        },
        {
          name: "Jessica L.",
          bodyShape: "Slim",
          personality: "Adventurous",
          interests: "Hiking, Dance",
          match: false,
        },
        {
          name: "Amanda R.",
          bodyShape: "Average",
          personality: "Intellectual",
          interests: "Books, Coffee",
          match: false,
        },
        {
          name: "Lisa W.",
          bodyShape: "Athletic",
          personality: "Cheerful",
          interests: "Fitness, Cooking",
          match: false,
        },
        {
          name: "Maria S.",
          bodyShape: "Petite",
          personality: "Romantic",
          interests: "Movies, Music",
          match: true,
        },
        {
          name: "Rachel T.",
          bodyShape: "Curvy",
          personality: "Funny",
          interests: "Comedy, Food",
          match: false,
        },
        {
          name: "Nicole B.",
          bodyShape: "Athletic",
          personality: "Ambitious",
          interests: "Business, Tech",
          match: false,
        },
        {
          name: "Jennifer P.",
          bodyShape: "Slim",
          personality: "Artistic",
          interests: "Painting, Poetry",
          match: false,
        },
        {
          name: "Michelle D.",
          bodyShape: "Average",
          personality: "Kind",
          interests: "Charity, Animals",
          match: false,
        },
        {
          name: "Laura H.",
          bodyShape: "Petite",
          personality: "Energetic",
          interests: "Sports, Gaming",
          match: false,
        },
        {
          name: "Ashley F.",
          bodyShape: "Curvy",
          personality: "Mysterious",
          interests: "Mystery, Wine",
          match: true,
        },
        {
          name: "Stephanie G.",
          bodyShape: "Athletic",
          personality: "Confident",
          interests: "Fashion, Travel",
          match: false,
        },
        {
          name: "Rebecca C.",
          bodyShape: "Slim",
          personality: "Sweet",
          interests: "Baking, Crafts",
          match: false,
        },
        {
          name: "Diana V.",
          bodyShape: "Average",
          personality: "Sophisticated",
          interests: "Theater, Wine",
          match: false,
        },
        {
          name: "Christina M.",
          bodyShape: "Petite",
          personality: "Playful",
          interests: "Games, Anime",
          match: false,
        },
        {
          name: "Karen J.",
          bodyShape: "Curvy",
          personality: "Caring",
          interests: "Nursing, Yoga",
          match: false,
        },
        {
          name: "Sandra N.",
          bodyShape: "Athletic",
          personality: "Determined",
          interests: "Gym, Business",
          match: false,
        },
        {
          name: "Patricia O.",
          bodyShape: "Slim",
          personality: "Elegant",
          interests: "Ballet, Opera",
          match: false,
        },
        {
          name: "Melissa Q.",
          bodyShape: "Average",
          personality: "Friendly",
          interests: "Socializing, Food",
          match: false,
        },
        {
          name: "Sophia T.",
          bodyShape: "Athletic",
          personality: "Adventurous",
          interests: "Skydiving, Surfing",
          match: false,
        },
        {
          name: "Olivia B.",
          bodyShape: "Curvy",
          personality: "Bubbly",
          interests: "Fashion, Shopping",
          match: true,
        },
        {
          name: "Emma C.",
          bodyShape: "Slim",
          personality: "Thoughtful",
          interests: "Writing, Coffee",
          match: false,
        },
        {
          name: "Ava D.",
          bodyShape: "Petite",
          personality: "Spontaneous",
          interests: "Road trips, Music",
          match: false,
        },
        {
          name: "Isabella E.",
          bodyShape: "Average",
          personality: "Charming",
          interests: "Wine, Dining",
          match: false,
        },
        {
          name: "Mia F.",
          bodyShape: "Athletic",
          personality: "Motivated",
          interests: "CrossFit, Nutrition",
          match: false,
        },
        {
          name: "Charlotte G.",
          bodyShape: "Curvy",
          personality: "Passionate",
          interests: "Dance, Theater",
          match: false,
        },
        {
          name: "Amelia H.",
          bodyShape: "Slim",
          personality: "Gentle",
          interests: "Yoga, Meditation",
          match: true,
        },
        {
          name: "Harper I.",
          bodyShape: "Petite",
          personality: "Quirky",
          interests: "Comics, Gaming",
          match: false,
        },
        {
          name: "Evelyn J.",
          bodyShape: "Average",
          personality: "Sophisticated",
          interests: "Jazz, Art",
          match: false,
        },
        {
          name: "Abigail K.",
          bodyShape: "Athletic",
          personality: "Competitive",
          interests: "Tennis, Running",
          match: false,
        },
        {
          name: "Emily L.",
          bodyShape: "Curvy",
          personality: "Warm",
          interests: "Cooking, Hosting",
          match: false,
        },
        {
          name: "Elizabeth M.",
          bodyShape: "Slim",
          personality: "Intelligent",
          interests: "Science, Tech",
          match: false,
        },
        {
          name: "Sofia N.",
          bodyShape: "Petite",
          personality: "Sweet",
          interests: "Baking, Crafts",
          match: true,
        },
        {
          name: "Avery O.",
          bodyShape: "Average",
          personality: "Chill",
          interests: "Netflix, Takeout",
          match: false,
        },
        {
          name: "Ella P.",
          bodyShape: "Athletic",
          personality: "Energetic",
          interests: "Spinning, Hiking",
          match: false,
        },
        {
          name: "Scarlett Q.",
          bodyShape: "Curvy",
          personality: "Bold",
          interests: "Modeling, Fashion",
          match: false,
        },
        {
          name: "Grace R.",
          bodyShape: "Slim",
          personality: "Elegant",
          interests: "Ballet, Classical",
          match: false,
        },
        {
          name: "Chloe S.",
          bodyShape: "Petite",
          personality: "Cute",
          interests: "Anime, Cosplay",
          match: true,
        },
        {
          name: "Victoria T.",
          bodyShape: "Average",
          personality: "Classy",
          interests: "Opera, Wine",
          match: false,
        },
        {
          name: "Madison U.",
          bodyShape: "Athletic",
          personality: "Fierce",
          interests: "MMA, Boxing",
          match: false,
        },
        {
          name: "Luna V.",
          bodyShape: "Curvy",
          personality: "Mystical",
          interests: "Astrology, Tarot",
          match: false,
        },
        {
          name: "Layla W.",
          bodyShape: "Slim",
          personality: "Dreamy",
          interests: "Photography, Travel",
          match: false,
        },
        {
          name: "Penelope X.",
          bodyShape: "Petite",
          personality: "Witty",
          interests: "Comedy, Improv",
          match: false,
        },
        {
          name: "Riley Y.",
          bodyShape: "Average",
          personality: "Casual",
          interests: "Sports, Beer",
          match: false,
        },
        {
          name: "Zoey Z.",
          bodyShape: "Athletic",
          personality: "Wild",
          interests: "Parties, Clubbing",
          match: true,
        },
        {
          name: "Nora A.",
          bodyShape: "Curvy",
          personality: "Nurturing",
          interests: "Kids, Family",
          match: false,
        },
        {
          name: "Lily B.",
          bodyShape: "Slim",
          personality: "Delicate",
          interests: "Flowers, Gardening",
          match: false,
        },
        {
          name: "Hannah C.",
          bodyShape: "Petite",
          personality: "Cheerful",
          interests: "Singing, Karaoke",
          match: false,
        },
        {
          name: "Zoe D.",
          bodyShape: "Average",
          personality: "Balanced",
          interests: "Wellness, Spa",
          match: false,
        },
        {
          name: "Natalie E.",
          bodyShape: "Athletic",
          personality: "Driven",
          interests: "Career, Success",
          match: false,
        },
        {
          name: "Addison F.",
          bodyShape: "Curvy",
          personality: "Flirty",
          interests: "Dating, Romance",
          match: true,
        },
        {
          name: "Brooklyn G.",
          bodyShape: "Slim",
          personality: "Urban",
          interests: "Street art, Hip hop",
          match: false,
        },
        {
          name: "Claire H.",
          bodyShape: "Petite",
          personality: "Classic",
          interests: "Literature, Tea",
          match: false,
        },
        {
          name: "Skylar I.",
          bodyShape: "Average",
          personality: "Free-spirited",
          interests: "Nature, Camping",
          match: false,
        },
        {
          name: "Bella J.",
          bodyShape: "Athletic",
          personality: "Stunning",
          interests: "Fitness, Beauty",
          match: false,
        },
        {
          name: "Paisley K.",
          bodyShape: "Curvy",
          personality: "Country",
          interests: "Horses, Rodeo",
          match: false,
        },
        {
          name: "Savannah L.",
          bodyShape: "Slim",
          personality: "Southern",
          interests: "Sweet tea, BBQ",
          match: false,
        },
        {
          name: "Aubrey M.",
          bodyShape: "Petite",
          personality: "Perky",
          interests: "Cheerleading, Dance",
          match: true,
        },
        {
          name: "Aurora N.",
          bodyShape: "Average",
          personality: "Magical",
          interests: "Fantasy, Books",
          match: false,
        },
        {
          name: "Violet O.",
          bodyShape: "Athletic",
          personality: "Vibrant",
          interests: "Colors, Design",
          match: false,
        },
        {
          name: "Nova P.",
          bodyShape: "Curvy",
          personality: "Stellar",
          interests: "Stars, Space",
          match: false,
        },
        {
          name: "Genesis Q.",
          bodyShape: "Slim",
          personality: "Original",
          interests: "Innovation, Tech",
          match: false,
        },
        {
          name: "Emilia R.",
          bodyShape: "Petite",
          personality: "Graceful",
          interests: "Ice skating, Music",
          match: false,
        },
        {
          name: "Kennedy S.",
          bodyShape: "Average",
          personality: "Strong",
          interests: "Politics, Debate",
          match: false,
        },
        {
          name: "Samantha T.",
          bodyShape: "Athletic",
          personality: "Classic",
          interests: "Movies, Popcorn",
          match: false,
        },
        {
          name: "Maya U.",
          bodyShape: "Curvy",
          personality: "Exotic",
          interests: "Culture, Travel",
          match: true,
        },
        {
          name: "Willow V.",
          bodyShape: "Slim",
          personality: "Natural",
          interests: "Environment, Green",
          match: false,
        },
        {
          name: "Kinsley W.",
          bodyShape: "Petite",
          personality: "Royal",
          interests: "Fashion, Luxury",
          match: false,
        },
        {
          name: "Naomi X.",
          bodyShape: "Average",
          personality: "Model",
          interests: "Runway, Style",
          match: false,
        },
        {
          name: "Aaliyah Y.",
          bodyShape: "Athletic",
          personality: "Singer",
          interests: "R&B, Soul",
          match: false,
        },
        {
          name: "Elena Z.",
          bodyShape: "Curvy",
          personality: "Vampy",
          interests: "Gothic, Dark",
          match: false,
        },
        {
          name: "Sarah AA.",
          bodyShape: "Slim",
          personality: "Timeless",
          interests: "Vintage, Antiques",
          match: false,
        },
        {
          name: "Ariana BB.",
          bodyShape: "Petite",
          personality: "Pop star",
          interests: "Music, Fame",
          match: true,
        },
        {
          name: "Allison CC.",
          bodyShape: "Average",
          personality: "Relatable",
          interests: "Real life, Friends",
          match: false,
        },
        {
          name: "Gabriella DD.",
          bodyShape: "Athletic",
          personality: "Musical",
          interests: "Singing, Theater",
          match: false,
        },
        {
          name: "Alice EE.",
          bodyShape: "Curvy",
          personality: "Wonderland",
          interests: "Fantasy, Dreams",
          match: false,
        },
        {
          name: "Madelyn FF.",
          bodyShape: "Slim",
          personality: "Modern",
          interests: "Trends, Social",
          match: false,
        },
        {
          name: "Cora GG.",
          bodyShape: "Petite",
          personality: "Vintage",
          interests: "Old movies, Jazz",
          match: false,
        },
        {
          name: "Ruby HH.",
          bodyShape: "Average",
          personality: "Precious",
          interests: "Jewelry, Gems",
          match: false,
        },
        {
          name: "Eva II.",
          bodyShape: "Athletic",
          personality: "First",
          interests: "Leadership, Boss",
          match: true,
        },
        {
          name: "Serenity JJ.",
          bodyShape: "Curvy",
          personality: "Peaceful",
          interests: "Zen, Calm",
          match: false,
        },
      ];

      let currentPage = 1;
      const profilesPerPage = 20;
      let tokenBalance = 50;

      function renderProfiles(page) {
        const start = (page - 1) * profilesPerPage;
        const end = start + profilesPerPage;
        const pageProfiles = profiles.slice(start, end);

        const grid = document.getElementById("profileGrid");
        grid.innerHTML = "";

        pageProfiles.forEach((profile, idx) => {
          const initial = profile.name.charAt(0);
          const card = document.createElement("div");
          card.className = profile.match
            ? "profile-card soulmate"
            : "profile-card";

          card.innerHTML = `
                    <div class="profile-header">
                        <div class="profile-avatar">${initial}</div>
                        <div>
                            <div class="profile-name">${profile.name}</div>
                            <div class="profile-status">
                                <span class="status-dot"></span>
                                Online
                            </div>
                        </div>
                    </div>
                    <div class="profile-info">
                        <div class="info-row">
                            <span class="info-label">Body:</span>
                            <span class="info-value">${profile.bodyShape}</span>
                        </div>
                        <div class="info-row">
                            <span class="info-label">Personality:</span>
                            <span class="info-value">${
                              profile.personality
                            }</span>
                        </div>
                    </div>
                    <div class="profile-tags">
                        ${profile.interests
                          .split(", ")
                          .map(
                            (interest) => `<span class="tag">${interest}</span>`
                          )
                          .join("")}
                    </div>
                    <div class="profile-actions">
                        <button class="action-btn call-btn" onclick="initiateCall('${
                          profile.name
                        }')">üìû Call</button>
                        <button class="action-btn date-btn" onclick="requestDate('${
                          profile.name
                        }')">üíù Request Date</button>
                        ${
                          profile.match
                            ? '<button class="action-btn soulmate-btn" onclick="soulmateCall(\'' +
                              profile.name +
                              "')\">‚ú® Soulmate Call (Premium)</button>"
                            : ""
                        }
                    </div>
                `;

          grid.appendChild(card);
        });
      }

      function renderPagination() {
        const totalPages = Math.ceil(profiles.length / profilesPerPage);
        const pagination = document.getElementById("pagination");
        pagination.innerHTML = "";

        for (let i = 1; i <= totalPages; i++) {
          const btn = document.createElement("button");
          btn.className = i === currentPage ? "page-btn active" : "page-btn";
          btn.textContent = i;
          btn.onclick = () => goToPage(i);
          pagination.appendChild(btn);
        }
      }

      function goToPage(page) {
        currentPage = page;
        renderProfiles(page);
        renderPagination();
        window.scrollTo({ top: 0, behavior: "smooth" });
      }

      function initiateCall(name) {
        if (tokenBalance > 0) {
          alert(
            `Initiating video call with ${name}...\nCost: 1 token/minute\nCurrent balance: ${tokenBalance} tokens`
          );
        } else {
          alert("Insufficient tokens! Please buy more tokens to continue.");
          openPricingModal();
        }
      }

      function requestDate(name) {
        if (tokenBalance >= 5) {
          alert(
            `Date request sent to ${name}!\nCost: 5 tokens\nRemaining balance: ${
              tokenBalance - 5
            } tokens`
          );
          tokenBalance -= 5;
          updateBalance();
        } else {
          alert(
            "Insufficient tokens! You need at least 5 tokens for a date request."
          );
          openPricingModal();
        }
      }

      function soulmateCall(name) {
        if (tokenBalance >= 10) {
          alert(
            `Starting Soulmate Call with ${name}!\nPremium rate: 2 tokens/minute\nCurrent balance: ${tokenBalance} tokens`
          );
        } else {
          alert(
            "Insufficient tokens! Soulmate calls require at least 10 tokens."
          );
          openPricingModal();
        }
      }

      function selectPackage(tokens, price) {
        const confirm = window.confirm(
          `Purchase ${tokens} tokens for KSh ${price.toLocaleString()}?\n\nThis will redirect to M-Pesa payment.`
        );
        if (confirm) {
          alert(
            `M-Pesa payment initiated!\n\nAmount: KSh ${price.toLocaleString()}\nTokens: ${tokens}\n\nYou will receive a prompt on your phone.`
          );
          // In production, this will trigger M-Pesa STK push
          tokenBalance += tokens;
          updateBalance();
          closePricingModal();
        }
      }

      function updateBalance() {
        document.getElementById("tokenBalance").textContent = tokenBalance;
      }

      function openPricingModal() {
        document.getElementById("pricingModal").classList.add("active");
      }

      function closePricingModal() {
        document.getElementById("pricingModal").classList.remove("active");
      }

      // Initialize
      renderProfiles(currentPage);
      renderPagination();
    </script>
  </body>
</html>
